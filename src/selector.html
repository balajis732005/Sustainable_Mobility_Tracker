<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./selector.css">
    <title>Selector</title>
    <style>
        .hidden {
            display: none;
        }
        .dropdownGroup {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="background">
        <div class="main">
            <h1>Select the Home Appliances</h1>

            <div class="dropdownGroup">
                <label class="dropDownLabel">No of Refrigerators</label>
                <select id="noOfRefrigeratorDropdown" class="dropdown" onchange="generateRefrigeratorDropdowns()">
                    <option value="">Select number of refrigerators</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                </select>
            </div>
            <div id="refrigeratorDropdownContainer"></div>

            <div class="dropdownGroup">
                <label class="dropDownLabel">No of Air Conditioners</label>
                <select id="noOfAirConditionerDropdown" class="dropdown" onchange="generateAirConditionerDropdowns()">
                    <option value="">Select number of air conditioners</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                </select>
            </div>
            <div id="airConditionerDropdownContainer"></div>

            <button class="primaryCTA" onclick="redirectToDashboard()">Next</button>
        </div>
    </div>
    <script>
        function generateRefrigeratorDropdowns() {
            const container = document.getElementById('refrigeratorDropdownContainer');
            const numberOfRefrigerators = document.getElementById('noOfRefrigeratorDropdown').value;
            container.innerHTML = '';

            for (let i = 0; i < numberOfRefrigerators; i++) {
                const dropdownGroup = document.createElement('div');
                dropdownGroup.className = 'dropdownGroup';

                const labelBrand = document.createElement('label');
                labelBrand.className = 'dropDownLabel';
                labelBrand.textContent = `Select Refrigerator Brand ${i + 1}`;
                dropdownGroup.appendChild(labelBrand);

                const brandDropdown = document.createElement('select');
                brandDropdown.className = 'dropdown';
                brandDropdown.onchange = toggleRefrigeratorModelDropdown.bind(this, i);
                brandDropdown.innerHTML = `
                    <option value="">Select a Brand</option>
                    <option value="whirlpool">Whirlpool</option>
                    <option value="samsung">Samsung</option>
                    <option value="haier">Haier</option>
                    <option value="lg">LG</option>
                    <option value="bosch">Bosch</option>
                `;
                brandDropdown.id = `refrigeratorBrandDropdown${i}`;
                dropdownGroup.appendChild(brandDropdown);

                const modelDropdownContainer = document.createElement('div');
                modelDropdownContainer.id = `refrigeratorModelDropdownContainer${i}`;
                modelDropdownContainer.className = 'dropdownGroup hidden';
                modelDropdownContainer.innerHTML = `
                    <label class="dropDownLabel">Select Refrigerator Model ${i + 1}</label>
                    <select class="dropdown">
                        <option value="">Select a Model</option>
                        <option value="184l">184L</option>
                        <option value="neofresh_235l">NeoFresh 235L</option>
                        <option value="wde_184l">WDE 184L</option>
                        <option value="vitamagic_pro_192l">Vitamagic Pro 192L</option>
                        <option value="icemagic_pro_207l">IceMagic Pro 207L</option>
                    </select>
                `;
                dropdownGroup.appendChild(modelDropdownContainer);

                container.appendChild(dropdownGroup);
            }
        }

        function toggleRefrigeratorModelDropdown(index) {
            const brandDropdown = document.getElementById(`refrigeratorBrandDropdown${index}`);
            const modelDropdownContainer = document.getElementById(`refrigeratorModelDropdownContainer${index}`);
            if (brandDropdown.value != "") {
                modelDropdownContainer.classList.remove('hidden');
            } else {
                modelDropdownContainer.classList.add('hidden');
            }
        }

        function generateAirConditionerDropdowns() {
            const container = document.getElementById('airConditionerDropdownContainer');
            const numberOfAirConditioners = document.getElementById('noOfAirConditionerDropdown').value;
            container.innerHTML = '';

            for (let i = 0; i < numberOfAirConditioners; i++) {
                const dropdownGroup = document.createElement('div');
                dropdownGroup.className = 'dropdownGroup';

                const labelBrand = document.createElement('label');
                labelBrand.className = 'dropDownLabel';
                labelBrand.textContent = `Select Air Conditioner Brand ${i + 1}`;
                dropdownGroup.appendChild(labelBrand);

                const brandDropdown = document.createElement('select');
                brandDropdown.className = 'dropdown';
                brandDropdown.onchange = toggleAirConditionerModelDropdown.bind(this, i);
                brandDropdown.innerHTML = `
                    <option value="">Select a Brand</option>
                    <option value="blue_star">Blue Star</option>
                    <option value="samsung">Samsung</option>
                    <option value="haier">Haier</option>
                    <option value="o_general">O General</option>
                    <option value="voltas">Voltas</option>
                `;
                brandDropdown.id = `airConditionerBrandDropdown${i}`;
                dropdownGroup.appendChild(brandDropdown);

                const modelDropdownContainer = document.createElement('div');
                modelDropdownContainer.id = `airConditionerModelDropdownContainer${i}`;
                modelDropdownContainer.className = 'dropdownGroup hidden';
                modelDropdownContainer.innerHTML = `
                    <label class="dropDownLabel">Select Air Conditioner Model ${i + 1}</label>
                    <select class="dropdown">
                        <option value="">Select a Model</option>
                        <option value="ic518datu">IC518DATU</option>
                        <option value="bs-5cnhw18da">BS-5CNHW18DA</option>
                        <option value="3hw18jd1">3HW18JD1</option>
                        <option value="5w18ld">5W18LD</option>
                        <option value="3cnhw18caf">3CNHW18CAF</option>
                    </select>
                `;
                dropdownGroup.appendChild(modelDropdownContainer);

                container.appendChild(dropdownGroup);
            }
        }

        function toggleAirConditionerModelDropdown(index) {
            const brandDropdown = document.getElementById(`airConditionerBrandDropdown${index}`);
            const modelDropdownContainer = document.getElementById(`airConditionerModelDropdownContainer${index}`);
            if (brandDropdown.value != "") {
                modelDropdownContainer.classList.remove('hidden');
            } else {
                modelDropdownContainer.classList.add('hidden');
            }
        }

        function redirectToDashboard() {
            window.location.href = "./dashboard.html";
        }
    </script>
</body>
</html>

